var u=class p{constructor(r="info",e=false,n=""){this.level=1;this.pretty=false;this.prefix="";this.levels={debug:0,info:1,warn:2,error:3,fatal:4};this.colors={reset:"\x1B[0m",gray:"\x1B[90m",cyan:"\x1B[36m",green:"\x1B[32m",yellow:"\x1B[33m",red:"\x1B[31m",magenta:"\x1B[35m",bold:"\x1B[1m"};this.level=this.levels[r]??1,this.pretty=e,this.prefix=n;}debug(r,e){this.log("debug",this.levels.debug,r,e);}info(r,e){this.log("info",this.levels.info,r,e);}warn(r,e){this.log("warn",this.levels.warn,r,e);}error(r,e){this.log("error",this.levels.error,r,e);}fatal(r,e){this.log("fatal",this.levels.fatal,r,e),process.env.NODE_ENV;}child(r){let e=this.prefix?`${this.prefix}:${r}`:r,n=Object.keys(this.levels).find(t=>this.levels[t]===this.level)||"info";return new p(n,this.pretty,e)}log(r,e,n,t){if(e<this.level)return;let o,s;if(typeof n=="string"?(s=n,o={}):(o=n??{},s=t),this.prefix&&s?s=`[${this.prefix}] ${s}`:this.prefix&&(s=`[${this.prefix}]`),this.pretty)this.prettyLog(r,o,s);else {let $={timestamp:new Date().toISOString(),level:r.toUpperCase(),message:s||"No message",...o},l=JSON.stringify($);r==="error"||r==="fatal"?console.error(l):r==="warn"?console.warn(l):console.log(l);}}prettyLog(r,e,n){let t=this.colors,o=new Date().toLocaleTimeString("en-US",{hour12:false}),s="method"in e&&"path"in e,f=s&&"status"in e&&"duration"in e,$="name"in e,l="url"in e;if(f){let i=this.colorizeMethod(e.method),c=this.colorizeStatus(e.status),a=e.duration?`${e.duration}ms`:"",m=e.path;console.log(`${t.gray}${o}${t.reset} ${i} ${t.bold}${m}${t.reset} ${c} ${t.gray}${a}${t.reset}`);return}if(n==="Route added"&&s){let i=Array.isArray(e.method)?e.method.join("|"):e.method;console.log(`${t.gray}${o}${t.reset} ${t.cyan}\u2192${t.reset} ${t.bold}${i.padEnd(6)}${t.reset} ${e.path}`);return}if(n==="\u2714 Database connected"&&$){console.log(`${t.gray}${o}${t.reset} ${t.green}\u2713${t.reset} Database connected ${t.gray}(${e.name})${t.reset}`);return}if(n==="Server started"&&l){console.log(`${t.gray}${o}${t.reset} ${t.green}\u2713${t.reset} Server started at ${t.cyan}${e.url}${t.reset}`);return}let y=this.getLevelIcon(r),d=this.getLevelColor(r),g=`${t.gray}${o}${t.reset} ${d}${y}${t.reset} `;n&&(g+=`${n} `);let h=Object.keys(e).filter(i=>!["timestamp","level","message"].includes(i));if(h.length>0){let i=h.map(c=>{let a=e[c];return typeof a=="string"||typeof a=="number"?`${t.gray}${c}:${t.reset}${a}`:null}).filter(Boolean);i.length>0&&(g+=t.gray+i.join(" ")+t.reset);}console.log(g);}colorizeMethod(r){let e=this.colors,n=r.toUpperCase();switch(n){case "GET":return `${e.green}${n}${e.reset}`;case "POST":return `${e.cyan}${n}${e.reset}`;case "PUT":return `${e.yellow}${n}${e.reset}`;case "DELETE":return `${e.red}${n}${e.reset}`;case "PATCH":return `${e.magenta}${n}${e.reset}`;default:return `${e.gray}${n}${e.reset}`}}colorizeStatus(r){if(!r)return "";let e=this.colors,n=r.toString();return r>=200&&r<300?`${e.green}${n}${e.reset}`:r>=300&&r<400?`${e.cyan}${n}${e.reset}`:r>=400&&r<500?`${e.yellow}${n}${e.reset}`:r>=500?`${e.red}${n}${e.reset}`:`${e.gray}${n}${e.reset}`}getLevelIcon(r){switch(r){case "debug":return "\u25CF";case "info":return "\u25CF";case "warn":return "\u26A0";case "error":return "\u2716";case "fatal":return "\u2716";default:return "\u25CF"}}getLevelColor(r){let e=this.colors;switch(r){case "debug":return e.gray;case "info":return e.cyan;case "warn":return e.yellow;case "error":return e.red;case "fatal":return e.red+e.bold;default:return e.reset}}},b=u;export{u as Logger,b as default};//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map